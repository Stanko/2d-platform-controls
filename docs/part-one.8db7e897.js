const t={x:0,y:0},e={x:0,y:0};let n=!0,o=!0;const r=[];let s;const i=document.querySelector(".status"),l=document.querySelector(".player"),y=document.querySelector(".trail"),c=document.querySelector(".jump");const a={},u=" ",x="ArrowLeft",p="ArrowRight";function d(){const t=r[r.length-1];(e.x!==t?.position.x||e.y!==t?.position.y)&&(r.push({color:s,position:{...e}}),r.length>200&&r.shift(),function(){let t="";for(let e=0;e<r.length;e++){const n=r[e],{x:o,y:s}=n.position;t+=`<div \n      class="trail-point" \n      style="\n        background: ${n.color};\n        transform: translate(${o}px, ${-s}px);\n      "></div>`}y.innerHTML=t}())}window.addEventListener("keydown",(t=>{a[t.key]=!0,t.key!==u||t.repeat||(c.style.transform=`translate(${e.x}px, ${-e.y}px)`,c.innerHTML=e.y.toFixed(0))})),window.addEventListener("keyup",(t=>{delete a[t.key]}));let m=performance.now();!function r(){const y=performance.now(),c=(y-m)/16.666666666666668;!function(o){const r=a[x],i=a[p],l=r&&!i,y=i&&!r,c=t.x>0,u=t.x<0,d=n?2:.5;l?(s="lime",t.x-=c?d*o:1*o):y?(s="lime",t.x+=u?d*o:1*o):(s="red",c?(t.x-=d*o,t.x<0&&(t.x=0)):u&&(t.x+=d*o,t.x>0&&(t.x=0))),t.x>8?(s="silver",t.x=8):t.x<-8&&(s="silver",t.x=-8),e.x+=t.x*o}(c),function(r){const i=a[u];n=0===e.y,n?i&&o&&(t.y=8,s="blue",o=!1):i&&t.y>0?(s="blue",t.y-=.4*r):(t.y-=1*r,s="purple"),e.y+=t.y*r,e.y<0&&(e.y=0,t.y=0),!i&&e.y<30&&(o=!0)}(c),d(),i.innerHTML=`position: ${JSON.stringify(e)}\n`,i.innerHTML+=`velocity: ${JSON.stringify(t)}`,i.innerHTML+=o?'<div class="jump-status jump-status--legal" />':'<div class="jump-status jump-status--illegal" />',l.style.transform=`translate(${e.x}px, ${-e.y}px)`,m=y,requestAnimationFrame(r)}();
//# sourceMappingURL=part-one.8db7e897.js.map
